@if (IsVisible)
{
    <div class="modal" @onclick="CloseModal">
        <div class="modal-content" style="@ModalSize" @onclick:stopPropagation>
            <span class="close" @onclick="CloseModal">Ã—</span>
            <h3>@Title</h3>

            @if (!string.IsNullOrEmpty(PdfUrl))
            {
                <iframe class="modal-iframe" src="@PdfUrl" frameborder="0"></iframe>
            }

            @ChildContent
        </div>
    </div>
}

@code {
    [Parameter] public string Title { get; set; } = "PDF Viewer";
    [Parameter] public string PdfUrl { get; set; } = string.Empty;
    [Parameter] public string ModalSize { get; set; } = ""; // Optional inline override
    [Parameter] public RenderFragment? ChildContent { get; set; }

    private bool IsVisible { get; set; }

    public void Open(string url, string? title = null)
    {
        PdfUrl = url;
        Title = title ?? Title;
        IsVisible = true;
        StateHasChanged();
    }

    public void Close()
    {
        IsVisible = false;
        PdfUrl = string.Empty;
        StateHasChanged();
    }

    private void CloseModal()
    {
        Close();
    }
}
